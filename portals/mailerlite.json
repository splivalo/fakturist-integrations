{
  "id": "mailerlite",
  "displayName": "MailerLite",
  "category": "cat_email_marketing",
  "syncType": "hybrid",
  "status": "active",
  "configSchema": {
    "fields": [
      {
        "key": "username",
        "labelKey": "email",
        "placeholderKey": "emailPlaceholderExample",
        "type": "email",
        "required": true
      },
      {
        "key": "password",
        "labelKey": "password",
        "placeholderKey": "passwordPlaceholder",
        "type": "password",
        "required": true
      }
    ],
    "email_sync": {
      "from_email": "notifications@mailerlite.com",
      "subject_pattern": ".*payment.*",
      "match_type": "contains",
      "search_text": "payment"
    },
    "manual_sync": {
      "steps": [
        {
          "action": "navigate",
          "value": "https://app.mailerlite.com/billing"
        },
        {
          "action": "type",
          "value": "{username}",
          "selector": "input[type=email]"
        },
        {
          "action": "type",
          "value": "{password}",
          "selector": "input[type=password]"
        },
        {
          "action": "click",
          "value": "submit",
          "selector": "button[type=submit]"
        },
        {
          "action": "navigate",
          "value": "https://dashboard.mailerlite.com/billing/invoices"
        },
        {
          "action": "wait",
          "value": "1500"
        },
        {
          "action": "download",
          "value": "",
          "selector": "a[data-test-id=\"download-invoice\"]",
          "rowSelector": "tr[data-test-id=\"invoice-row\"]",
          "isRowAction": true,
          "maxPages": 1,
          "isGroupStart": true
        }
      ],
      "extract_config": {
        "invoice_date": {
          "selector": "td:nth-child(1)"
        },
        "amount": {
          "selector": "td:nth-child(5)"
        }
      }
    }
  },
  "uiMetadata": {
    "icon": "send",
    "color": "#0066CC",
    "website": ""
  },
  "scraperModule": "mailerlite_scraper"
}
